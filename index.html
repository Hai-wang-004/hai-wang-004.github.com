<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
    <head>
        <title>blog-Hai-wang-004</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="./css/style.css" id="css_switch"/>
    </head>

    
    <body>
        <div class="clear"></div>
        <div id="menu">
            <div id="title"><font color="#666">BLOG</font> <br />Hai-wang-004</div>
            <br>
            <br>
            <!--<strong>How to</strong>:<br>
            ... <a href="#install">install the theme</a><br>
            ... <a href="#main-menu">set up and customize the main menu</a><br>
            ... <a href="#secondary-menu">set up and customize the secondary (icon) menu</a><br>
            ... <a href="#customization">customize the theme's colors, add logo image</a><br>
            ... <a href="#custom-backgrounds">give posts and pages background colors and background images</a><br>
            ... <a href="#static-front-page">set up a static front page</a><br>
            ... <a href="#contact-form">set up the contact form</a><br>
            ... <a href="#gallery">set up and use the gallery</a><br>
            ... <a href="#shortcodes">set up and use shortcodes</a><br>
            ... <a href="#archive-page">set up an archive page</a><br>
            ... <a href="#embed-map">embed a map into the header on the contact page</a><br>
            ... <a href="#call-button">add a call button or link</a><br>
        ... <a href="#translate">translate the theme</a><br>
-->
        </div>
        
        <div id="content">
        <div id="thank-you" class="content-title">GO语言http包路由规则简析</div>
        <p>
        	<div>&nbsp;贴代码：
<div>&nbsp;</div>

<div style="padding:5px 5px 10px">
<div style="height:14px"><span style="color:#930f80">package</span>&nbsp;<span>main</span></div>

<div style="height:14px"></div>

<div style="height:14px"><span style="color:#930f80">import</span>&nbsp;<span>(</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#1a1aa6">"fmt"</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#1a1aa6">"io/ioutil"</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#1a1aa6">"net/http"</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#1a1aa6">"os"</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#1a1aa6">"strings"</span></div>

<div style="height:14px"><span>)</span></div>

<div style="height:14px"></div>

<div style="height:14px"><span style="color:#930f80">type</span>&nbsp;<span>MyMux</span>&nbsp;<span style="color:#930f80">struct</span>&nbsp;<span>{</span></div>

<div style="height:14px"><span>}</span></div>

<div style="height:14px"><span style="color:#930f80">type</span>&nbsp;<span>Handlerfuncs</span>&nbsp;<span style="color:#930f80">func</span><span>(</span><span>w</span>&nbsp;<span>http</span><span>.</span><span>ResponseWriter</span><span>,</span>&nbsp;<span>r</span>&nbsp;<span style="color:#687687">*</span><span>http</span><span>.</span><span>Request</span><span>)</span></div>

<div style="height:14px"></div>

<div style="height:14px"><span style="color:#236e24">//<span style="width:13.21875px;color:#236e24">路</span><span style="width:13.21875px;color:#236e24">由</span><span style="width:13.21875px;color:#236e24">定</span><span style="width:13.21875px;color:#236e24">义</span>URL<span style="width:13.21875px;color:#236e24">映</span><span style="width:13.21875px;color:#236e24">射</span><span style="width:13.21875px;color:#236e24">的</span><span style="width:13.21875px;color:#236e24">方</span><span style="width:13.21875px;color:#236e24">法</span><span style="width:13.21875px;color:#236e24">，</span><span style="width:13.21875px;color:#236e24">可</span><span style="width:13.21875px;color:#236e24">以</span><span style="width:13.21875px;color:#236e24">随</span><span style="width:13.21875px;color:#236e24">意</span><span style="width:13.21875px;color:#236e24">扩</span><span style="width:13.21875px;color:#236e24">展</span><span style="width:13.21875px;color:#236e24">，</span><span style="width:13.21875px;color:#236e24">比</span><span style="width:13.21875px;color:#236e24">如</span>beego<span style="width:13.21875px;color:#236e24">框</span><span style="width:13.21875px;color:#236e24">架</span><span style="width:13.21875px;color:#236e24">里</span><span style="width:13.21875px;color:#236e24">的</span><span style="width:13.21875px;color:#236e24">路</span><span style="width:13.21875px;color:#236e24">由</span><span style="width:13.21875px;color:#236e24">，</span><span style="width:13.21875px;color:#236e24">这</span><span style="width:13.21875px;color:#236e24">里</span><span style="width:13.21875px;color:#236e24">只</span><span style="width:13.21875px;color:#236e24">做</span><span style="width:13.21875px;color:#236e24">个</span><span style="width:13.21875px;color:#236e24">例</span><span style="width:13.21875px;color:#236e24">子</span><span style="width:13.21875px;color:#236e24">验</span><span style="width:13.21875px;color:#236e24">证</span></span></div>

<div style="height:14px"><span style="color:#930f80">var</span>&nbsp;<span>handlemaps</span>&nbsp;<span style="color:#930f80">map</span><span>[</span><span>string</span><span>]</span><span>Handlerfuncs</span>&nbsp;<span style="color:#687687">=</span>&nbsp;<span style="color:#930f80">map</span><span>[</span><span>string</span><span>]</span><span>Handlerfuncs</span><span>{</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#1a1aa6">"/aaa"</span><span>:</span>&nbsp;<span>server1</span><span>,</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#1a1aa6">"/bbb"</span><span>:</span>&nbsp;<span>server2</span><span>,</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#1a1aa6">"/ccc"</span><span>:</span>&nbsp;<span>server3</span><span>,</span></div>

<div style="height:14px"><span>}</span></div>

<div style="height:14px"></div>

<div style="height:14px"><span style="color:#236e24">//<span style="width:13.21875px;color:#236e24">路</span><span style="width:13.21875px;color:#236e24">由</span><span style="width:13.21875px;color:#236e24">定</span><span style="width:13.21875px;color:#236e24">义</span><span style="width:13.21875px;color:#236e24">静</span><span style="width:13.21875px;color:#236e24">态</span><span style="width:13.21875px;color:#236e24">文</span><span style="width:13.21875px;color:#236e24">件</span><span style="width:13.21875px;color:#236e24">路</span><span style="width:13.21875px;color:#236e24">径</span><span style="width:13.21875px;color:#236e24">，</span><span style="width:13.21875px;color:#236e24">在</span><span style="width:13.21875px;color:#236e24">该</span><span style="width:13.21875px;color:#236e24">路</span><span style="width:13.21875px;color:#236e24">径</span><span style="width:13.21875px;color:#236e24">下</span><span style="width:13.21875px;color:#236e24">的</span><span style="width:13.21875px;color:#236e24">文</span><span style="width:13.21875px;color:#236e24">件</span><span style="width:13.21875px;color:#236e24">都</span><span style="width:13.21875px;color:#236e24">会</span><span style="width:13.21875px;color:#236e24">作</span><span style="width:13.21875px;color:#236e24">为</span><span style="width:13.21875px;color:#236e24">静</span><span style="width:13.21875px;color:#236e24">态</span><span style="width:13.21875px;color:#236e24">文</span><span style="width:13.21875px;color:#236e24">件</span><span style="width:13.21875px;color:#236e24">输</span><span style="width:13.21875px;color:#236e24">出</span></span></div>

<div style="height:14px"><span style="color:#930f80">var</span>&nbsp;<span>staticPath</span>&nbsp;<span style="color:#930f80">map</span><span>[</span><span>string</span><span>]</span><span>string</span>&nbsp;<span style="color:#687687">=</span>&nbsp;<span style="color:#930f80">map</span><span>[</span><span>string</span><span>]</span><span>string</span><span>{</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#1a1aa6">"/css"</span><span>:</span>&nbsp;<span style="color:#1a1aa6">"/css"</span><span>,</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#1a1aa6">"/js"</span><span>:</span>&nbsp;&nbsp;<span style="color:#1a1aa6">"/js"</span><span>,</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#1a1aa6">"/img"</span><span>:</span>&nbsp;<span style="color:#1a1aa6">"/img"</span><span>,</span></div>

<div style="height:14px"><span>}</span></div>

<div style="height:14px"></div>

<div style="height:14px"><span style="color:#930f80">func</span>&nbsp;<span>(</span><span>p</span>&nbsp;<span style="color:#687687">*</span><span>MyMux</span><span>)</span>&nbsp;<span>ServeHTTP</span><span>(</span><span>w</span>&nbsp;<span>http</span><span>.</span><span>ResponseWriter</span><span>,</span>&nbsp;<span>r</span>&nbsp;<span style="color:#687687">*</span><span>http</span><span>.</span><span>Request</span><span>)</span>&nbsp;<span>{</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span>fmt</span><span>.</span><span>Println</span><span>(</span><span style="color:#1a1aa6">"url&nbsp;is&nbsp;"</span><span>,</span>&nbsp;<span>r</span><span>.</span><span>URL</span><span>.</span><span>Path</span><span>)</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">if</span>&nbsp;<span>r</span><span>.</span><span>URL</span><span>.</span><span>Path</span>&nbsp;<span style="color:#687687">==</span>&nbsp;<span style="color:#1a1aa6">"/"</span>&nbsp;<span>{</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>server1</span><span>(</span><span>w</span><span>,</span>&nbsp;<span>r</span><span>)</span></div>

<div style="height:14px"></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span>}</span>&nbsp;<span style="color:#930f80">else</span>&nbsp;<span style="color:#930f80">if</span>&nbsp;<span>r</span><span>.</span><span>URL</span><span>.</span><span>Path</span>&nbsp;<span style="color:#687687">==</span>&nbsp;<span style="color:#1a1aa6">"/bbb"</span>&nbsp;<span>{</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>server2</span><span>(</span><span>w</span><span>,</span>&nbsp;<span>r</span><span>)</span></div>

<div style="height:14px"></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span>}</span>&nbsp;<span style="color:#930f80">else</span>&nbsp;<span style="color:#930f80">if</span>&nbsp;<span>handlemaps</span><span>[</span><span>r</span><span>.</span><span>URL</span><span>.</span><span>Path</span><span>]</span>&nbsp;<span style="color:#687687">!=</span>&nbsp;<span style="color:#585cf6">nil</span>&nbsp;<span>{</span>&nbsp;<span style="color:#236e24">//<span style="width:13.21875px;color:#236e24">在</span><span style="width:13.21875px;color:#236e24">路</span><span style="width:13.21875px;color:#236e24">由</span><span style="width:13.21875px;color:#236e24">规</span><span style="width:13.21875px;color:#236e24">则</span><span style="width:13.21875px;color:#236e24">里</span><span style="width:13.21875px;color:#236e24">，</span><span style="width:13.21875px;color:#236e24">会</span><span style="width:13.21875px;color:#236e24">调</span><span style="width:13.21875px;color:#236e24">用</span><span style="width:13.21875px;color:#236e24">路</span><span style="width:13.21875px;color:#236e24">由</span><span style="width:13.21875px;color:#236e24">规</span><span style="width:13.21875px;color:#236e24">则</span><span style="width:13.21875px;color:#236e24">定</span><span style="width:13.21875px;color:#236e24">义</span><span style="width:13.21875px;color:#236e24">的</span><span style="width:13.21875px;color:#236e24">函</span><span style="width:13.21875px;color:#236e24">数</span></span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>handlemaps</span><span>[</span><span>r</span><span>.</span><span>URL</span><span>.</span><span>Path</span><span>]</span><span>(</span><span>w</span><span>,</span>&nbsp;<span>r</span><span>)</span></div>

<div style="height:14px"></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span>}</span>&nbsp;<span style="color:#930f80">else</span>&nbsp;<span>{</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">var</span>&nbsp;<span>headStr</span>&nbsp;<span>string</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">var</span>&nbsp;<span>i</span>&nbsp;<span>int</span>&nbsp;<span style="color:#687687">=</span>&nbsp;<span style="color:#0000cd">0</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">for</span>&nbsp;<span>k</span><span>,</span>&nbsp;<span>_</span>&nbsp;<span>:</span><span style="color:#687687">=</span>&nbsp;<span>range</span>&nbsp;<span>staticPath</span>&nbsp;<span>{</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>headStr</span>&nbsp;<span style="color:#687687">=</span>&nbsp;<span>r</span><span>.</span><span>URL</span><span>.</span><span>Path</span><span>[</span><span>:</span><span>len</span><span>(</span><span>k</span><span>)]</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>path</span>&nbsp;<span>:</span><span style="color:#687687">=</span>&nbsp;<span>r</span><span>.</span><span>URL</span><span>.</span><span>Path</span></div>

<div style="height:14px"></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">if</span>&nbsp;<span>strings</span><span>.</span><span>ToLower</span><span>(</span><span>headStr</span><span>)</span>&nbsp;<span style="color:#687687">==</span>&nbsp;<span>k</span>&nbsp;<span>{</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>fmt</span><span>.</span><span>Println</span><span>(</span><span style="color:#1a1aa6">"head&nbsp;is:"</span><span>,</span>&nbsp;<span>headStr</span><span>)</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>request_type</span>&nbsp;<span>:</span><span style="color:#687687">=</span>&nbsp;<span>path</span><span>[</span><span>strings</span><span>.</span><span>LastIndex</span><span>(</span><span>path</span><span>,</span>&nbsp;<span style="color:#1a1aa6">"."</span><span>)</span><span>:</span><span>]</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">switch</span>&nbsp;<span>request_type</span>&nbsp;<span>{</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">case</span>&nbsp;<span style="color:#1a1aa6">".css"</span><span>:</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>w</span><span>.</span><span>Header</span><span>(</span><span>)</span><span>.</span><span>Set</span><span>(</span><span style="color:#1a1aa6">"content-type"</span><span>,</span>&nbsp;<span style="color:#1a1aa6">"text/css"</span><span>)</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>i</span><span style="color:#687687">++</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">case</span>&nbsp;<span style="color:#1a1aa6">".js"</span><span>:</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>w</span><span>.</span><span>Header</span><span>(</span><span>)</span><span>.</span><span>Set</span><span>(</span><span style="color:#1a1aa6">"content-type"</span><span>,</span>&nbsp;<span style="color:#1a1aa6">"text/javascript"</span><span>)</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>i</span><span style="color:#687687">++</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">case</span>&nbsp;<span style="color:#1a1aa6">".png"</span><span>:</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>w</span><span>.</span><span>Header</span><span>(</span><span>)</span><span>.</span><span>Set</span><span>(</span><span style="color:#1a1aa6">"content-type"</span><span>,</span>&nbsp;<span style="color:#1a1aa6">"image/png"</span><span>)</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>i</span><span style="color:#687687">++</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">case</span>&nbsp;<span style="color:#1a1aa6">".jpg"</span><span>:</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">case</span>&nbsp;<span style="color:#1a1aa6">".jpeg"</span><span>:</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>w</span><span>.</span><span>Header</span><span>(</span><span>)</span><span>.</span><span>Set</span><span>(</span><span style="color:#1a1aa6">"content-type"</span><span>,</span>&nbsp;<span style="color:#1a1aa6">"image/jpeg"</span><span>)</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>i</span><span style="color:#687687">++</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">case</span>&nbsp;<span style="color:#1a1aa6">".gif"</span><span>:</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>w</span><span>.</span><span>Header</span><span>(</span><span>)</span><span>.</span><span>Set</span><span>(</span><span style="color:#1a1aa6">"content-type"</span><span>,</span>&nbsp;<span style="color:#1a1aa6">"image/gif"</span><span>)</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>i</span><span style="color:#687687">++</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">default</span><span>:</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>}</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>fin</span><span>,</span>&nbsp;<span>err</span>&nbsp;<span>:</span><span style="color:#687687">=</span>&nbsp;<span>os</span><span>.</span><span>Open</span><span>(</span><span style="color:#1a1aa6">"."</span>&nbsp;<span style="color:#687687">+</span>&nbsp;<span>path</span><span>)</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">defer</span>&nbsp;<span>fin</span><span>.</span><span>Close</span><span>(</span><span>)</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">if</span>&nbsp;<span>err</span>&nbsp;<span style="color:#687687">!=</span>&nbsp;<span style="color:#585cf6">nil</span>&nbsp;<span>{</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>fmt</span><span>.</span><span>Println</span><span>(</span><span style="color:#1a1aa6">"static&nbsp;resource:"</span><span>,</span>&nbsp;<span>err</span><span>)</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>}</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>fd</span><span>,</span>&nbsp;<span>_</span>&nbsp;<span>:</span><span style="color:#687687">=</span>&nbsp;<span>ioutil</span><span>.</span><span>ReadAll</span><span>(</span><span>fin</span><span>)</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>w</span><span>.</span><span>Write</span><span>(</span><span>fd</span><span>)</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">return</span></div>

<div style="height:14px"></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>}</span></div>

<div style="height:14px"></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>}</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">if</span>&nbsp;<span>i</span>&nbsp;<span style="color:#687687">==</span>&nbsp;<span style="color:#0000cd">0</span>&nbsp;<span>{</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>http</span><span>.</span><span>NotFound</span><span>(</span><span>w</span><span>,</span>&nbsp;<span>r</span><span>)</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">return</span></div>

<div style="height:14px"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>}</span></div>

<div style="height:14px"></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span>}</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#930f80">return</span></div>

<div style="height:14px"><span>}</span></div>

<div style="height:14px"><span style="color:#930f80">func</span>&nbsp;<span>server1</span><span>(</span><span>w</span>&nbsp;<span>http</span><span>.</span><span>ResponseWriter</span><span>,</span>&nbsp;<span>r</span>&nbsp;<span style="color:#687687">*</span><span>http</span><span>.</span><span>Request</span><span>)</span>&nbsp;<span>{</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span>fmt</span><span>.</span><span>Println</span><span>(</span><span style="color:#1a1aa6">"is&nbsp;aaaa"</span><span>)</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span>fmt</span><span>.</span><span>Fprintf</span><span>(</span><span>w</span><span>,</span>&nbsp;<span style="color:#1a1aa6">"tests"</span><span>)</span></div>

<div style="height:14px"><span>}</span></div>

<div style="height:14px"><span style="color:#930f80">func</span>&nbsp;<span>server2</span><span>(</span><span>w</span>&nbsp;<span>http</span><span>.</span><span>ResponseWriter</span><span>,</span>&nbsp;<span>r</span>&nbsp;<span style="color:#687687">*</span><span>http</span><span>.</span><span>Request</span><span>)</span>&nbsp;<span>{</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span>fmt</span><span>.</span><span>Fprintf</span><span>(</span><span>w</span><span>,</span>&nbsp;<span style="color:#1a1aa6">"111111"</span><span>)</span></div>

<div style="height:14px"><span>}</span></div>

<div style="height:14px"><span style="color:#930f80">func</span>&nbsp;<span>server3</span><span>(</span><span>w</span>&nbsp;<span>http</span><span>.</span><span>ResponseWriter</span><span>,</span>&nbsp;<span>r</span>&nbsp;<span style="color:#687687">*</span><span>http</span><span>.</span><span>Request</span><span>)</span>&nbsp;<span>{</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span>fmt</span><span>.</span><span>Fprintf</span><span>(</span><span>w</span><span>,</span>&nbsp;<span style="color:#1a1aa6">"33333"</span><span>)</span></div>

<div style="height:14px"><span>}</span></div>

<div style="height:14px"></div>

<div style="height:14px"><span style="color:#930f80">func</span>&nbsp;<span>main</span><span>(</span><span>)</span>&nbsp;<span>{</span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span>mux</span>&nbsp;<span>:</span><span style="color:#687687">=</span>&nbsp;<span style="color:#687687">&amp;</span><span>MyMux</span><span>{</span><span>}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#236e24">//<span style="width:13.21875px;color:#236e24">实</span><span style="width:13.21875px;color:#236e24">例</span><span style="width:13.21875px;color:#236e24">化</span><span style="width:13.21875px;color:#236e24">路</span><span style="width:13.21875px;color:#236e24">由</span></span></div>

<div style="height:14px">&nbsp;&nbsp;&nbsp;&nbsp;<span>http</span><span>.</span><span>ListenAndServe</span><span>(</span><span style="color:#1a1aa6">":9999"</span><span>,</span>&nbsp;<span>mux</span><span>)</span>&nbsp;<span style="color:#236e24">//<span style="width:13.21875px;color:#236e24">这</span><span style="width:13.21875px;color:#236e24">里</span><span style="width:13.21875px;color:#236e24">代</span><span style="width:13.21875px;color:#236e24">理</span><span style="width:13.21875px;color:#236e24">给</span>mux<span style="width:13.21875px;color:#236e24">对</span><span style="width:13.21875px;color:#236e24">象</span><span style="width:13.21875px;color:#236e24">来</span><span style="width:13.21875px;color:#236e24">处</span><span style="width:13.21875px;color:#236e24">理</span>9999<span style="width:13.21875px;color:#236e24">端</span><span style="width:13.21875px;color:#236e24">口</span><span style="width:13.21875px;color:#236e24">请</span><span style="width:13.21875px;color:#236e24">求</span><span style="width:13.21875px;color:#236e24">，</span><span style="width:13.21875px;color:#236e24">会</span><span style="width:13.21875px;color:#236e24">调</span><span style="width:13.21875px;color:#236e24">用</span>mux.ServeHTTP<span style="width:13.21875px;color:#236e24">函</span><span style="width:13.21875px;color:#236e24">数</span><span style="width:13.21875px;color:#236e24">来</span><span style="width:13.21875px;color:#236e24">处</span><span style="width:13.21875px;color:#236e24">理</span></span></div>

<div style="height:14px"></div>

<div style="height:14px"><span>}</span></div>

<div style="height:14px"></div>
</div>

<div>&nbsp;</div>
启动该脚本后，使用浏览器访问以下：<br/>
<span>http://localhost:9999/ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;输出: tests<br/>
<span>http://localhost:9999/bbb &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;输出:111111<br/>
http://localhost:9999/ccc &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 输出:333333<br/>
</span></span>http://localhost:9999/img/a.png &nbsp; &nbsp; &nbsp; 输出图像a.png(如果有img/a.png)的话<br/>
<span><br/>
&nbsp;仔细阅读几遍，相信对GO语言的HTTP包路由设计有一个基本的了解，最终实现都是靠一个路由类的</span><span>ServeHTTP函数代理请求的处理和分发，为此我们可以随意定义URL的路由规则（只要你有对应代码来处理它），以及特殊请求的处理（上面静态文件是按照路径来处理，也可以通过文件名后缀处理等）。代码本身实现也是很简单，一般情况下只要自己设计的好，很容易实现一个WEB框架的核心路由器功能。</span><br/>
</div>

        </p>


        
            <div id="thank-you" class="content-title">关于GO语言守护协程用法的基本思路</div>
            <p><div><br/>
&nbsp;
<div>&nbsp;先看代码：</div>

<div>
<div>&nbsp;</div>

<div style="background:#ffffff;padding:5px 5px 10px;color:#4d4d4c">
<div style="height:14px;color:#4d4d4c"><span style="color:#8959a8">package</span>&nbsp;<span style="color:#4d4d4c">main</span></div>

<div style="height:14px;color:#4d4d4c"></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#8959a8">import</span>&nbsp;<span style="color:#4d4d4c">(</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#718c00">"fmt"</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">)</span></div>

<div style="height:14px;color:#4d4d4c"></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">func</span>&nbsp;<span style="color:#4d4d4c">main</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">)</span>&nbsp;<span style="color:#4d4d4c">{</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">gorchan</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">)</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">}</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">func</span>&nbsp;<span style="color:#4d4d4c">testchan</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">s</span>&nbsp;<span style="color:#4d4d4c">chan</span>&nbsp;<span style="color:#4d4d4c">int</span><span style="color:#4d4d4c">,</span>&nbsp;<span style="color:#4d4d4c">data</span>&nbsp;<span style="color:#4d4d4c">int</span><span style="color:#4d4d4c">)</span>&nbsp;<span style="color:#4d4d4c">{</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#8959a8">for</span>&nbsp;<span style="color:#4d4d4c">{</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#8959a8">if</span>&nbsp;<span style="color:#4d4d4c">data</span><span style="color:#3e999f">%</span><span style="color:#f5871f">3</span>&nbsp;<span style="color:#3e999f">==</span>&nbsp;<span style="color:#f5871f">0</span>&nbsp;<span style="color:#4d4d4c">{</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">s</span>&nbsp;<span style="color:#3e999f">&lt;-</span>&nbsp;<span style="color:#f5871f">0</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#8959a8">break</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">}</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">s</span>&nbsp;<span style="color:#3e999f">&lt;-</span>&nbsp;<span style="color:#4d4d4c">data</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">}</span></div>

<div style="height:14px;color:#4d4d4c"></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">}</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">func</span>&nbsp;<span style="color:#4d4d4c">gorchan</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">)</span>&nbsp;<span style="color:#4d4d4c">{</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">m</span>&nbsp;<span style="color:#4d4d4c">:</span><span style="color:#3e999f">=</span>&nbsp;<span style="color:#4d4d4c">make</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">map</span><span style="color:#4d4d4c">[</span><span style="color:#4d4d4c">int</span><span style="color:#4d4d4c">]</span><span style="color:#4d4d4c">chan</span>&nbsp;<span style="color:#4d4d4c">int</span><span style="color:#4d4d4c">)</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#8959a8">for</span>&nbsp;<span style="color:#4d4d4c">i</span>&nbsp;<span style="color:#4d4d4c">:</span><span style="color:#3e999f">=</span>&nbsp;<span style="color:#f5871f">0</span><span style="color:#4d4d4c">;</span>&nbsp;<span style="color:#4d4d4c">i</span>&nbsp;<span style="color:#3e999f">&lt;=</span>&nbsp;<span style="color:#f5871f">9</span><span style="color:#4d4d4c">;</span>&nbsp;<span style="color:#4d4d4c">i</span><span style="color:#3e999f">++</span>&nbsp;<span style="color:#4d4d4c">{</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">sess</span>&nbsp;<span style="color:#4d4d4c">:</span><span style="color:#3e999f">=</span>&nbsp;<span style="color:#4d4d4c">make</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">chan</span>&nbsp;<span style="color:#4d4d4c">int</span><span style="color:#4d4d4c">)</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">go</span>&nbsp;<span style="color:#4d4d4c">testchan</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">sess</span><span style="color:#4d4d4c">,</span>&nbsp;<span style="color:#4d4d4c">i</span><span style="color:#4d4d4c">)</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">str1</span>&nbsp;<span style="color:#4d4d4c">:</span><span style="color:#3e999f">=</span>&nbsp;<span style="color:#3e999f">&lt;-</span><span style="color:#4d4d4c">sess</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">m</span><span style="color:#4d4d4c">[</span><span style="color:#4d4d4c">i</span><span style="color:#4d4d4c">]</span>&nbsp;<span style="color:#3e999f">=</span>&nbsp;<span style="color:#4d4d4c">sess</span></div>

<div style="height:14px;color:#4d4d4c"></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">fmt</span><span style="color:#4d4d4c">.</span><span style="color:#4d4d4c">Println</span><span style="color:#4d4d4c">(</span><span style="color:#718c00">"string&nbsp;out&nbsp;to&nbsp;is:"</span><span style="color:#4d4d4c">,</span>&nbsp;<span style="color:#4d4d4c">str1</span><span style="color:#4d4d4c">)</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">}</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">str5</span>&nbsp;<span style="color:#4d4d4c">:</span><span style="color:#3e999f">=</span>&nbsp;<span style="color:#3e999f">&lt;-</span><span style="color:#4d4d4c">m</span><span style="color:#4d4d4c">[</span><span style="color:#f5871f">5</span><span style="color:#4d4d4c">]</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">fmt</span><span style="color:#4d4d4c">.</span><span style="color:#4d4d4c">Println</span><span style="color:#4d4d4c">(</span><span style="color:#718c00">"str5&nbsp;is:"</span><span style="color:#4d4d4c">,</span>&nbsp;<span style="color:#4d4d4c">str5</span><span style="color:#4d4d4c">)</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">str0</span>&nbsp;<span style="color:#4d4d4c">:</span><span style="color:#3e999f">=</span>&nbsp;<span style="color:#3e999f">&lt;-</span><span style="color:#4d4d4c">m</span><span style="color:#4d4d4c">[</span><span style="color:#f5871f">0</span><span style="color:#4d4d4c">]</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">fmt</span><span style="color:#4d4d4c">.</span><span style="color:#4d4d4c">Println</span><span style="color:#4d4d4c">(</span><span style="color:#718c00">"str0&nbsp;is:"</span><span style="color:#4d4d4c">,</span>&nbsp;<span style="color:#4d4d4c">str0</span><span style="color:#4d4d4c">)</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">}</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#8e908c">//OUTPUT:</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">string</span>&nbsp;<span style="color:#4d4d4c">out</span>&nbsp;<span style="color:#4d4d4c">to</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#f5871f">0</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">string</span>&nbsp;<span style="color:#4d4d4c">out</span>&nbsp;<span style="color:#4d4d4c">to</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#f5871f">1</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">string</span>&nbsp;<span style="color:#4d4d4c">out</span>&nbsp;<span style="color:#4d4d4c">to</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#f5871f">2</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">string</span>&nbsp;<span style="color:#4d4d4c">out</span>&nbsp;<span style="color:#4d4d4c">to</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#f5871f">0</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">string</span>&nbsp;<span style="color:#4d4d4c">out</span>&nbsp;<span style="color:#4d4d4c">to</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#f5871f">4</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">string</span>&nbsp;<span style="color:#4d4d4c">out</span>&nbsp;<span style="color:#4d4d4c">to</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#f5871f">5</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">string</span>&nbsp;<span style="color:#4d4d4c">out</span>&nbsp;<span style="color:#4d4d4c">to</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#f5871f">0</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">string</span>&nbsp;<span style="color:#4d4d4c">out</span>&nbsp;<span style="color:#4d4d4c">to</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#f5871f">7</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">string</span>&nbsp;<span style="color:#4d4d4c">out</span>&nbsp;<span style="color:#4d4d4c">to</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#f5871f">8</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">string</span>&nbsp;<span style="color:#4d4d4c">out</span>&nbsp;<span style="color:#4d4d4c">to</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#f5871f">0</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">str5</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#f5871f">5</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">fatal</span>&nbsp;<span style="color:#4d4d4c">error</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#4d4d4c">all</span>&nbsp;<span style="color:#4d4d4c">goroutines</span>&nbsp;<span style="color:#4d4d4c">are</span>&nbsp;<span style="color:#4d4d4c">asleep</span>&nbsp;<span style="color:#3e999f">-</span>&nbsp;<span style="color:#4d4d4c">deadlock</span><span style="color:#3e999f">!</span></div>
</div>

<div>&nbsp;</div>
<br/>
</div>

<div><span>&nbsp;这段代码有2个重点：<br/>
<span>一 for保障协程在进程退出前能一直运行:<br/>
&nbsp; &nbsp; for {} &nbsp;其实是for ; ;{}的简写 &nbsp;&nbsp;<br/>
&nbsp; &nbsp; 普通的for是for i:=0;i&lt;n;i++{},如果没有这个条件，即for ; ;{}则for是死循环&nbsp;,如果要跳出死循环，用break。<br/>
<span>&nbsp; &nbsp; 因此可见上面0对应的&nbsp;</span></span></span><span>协程取值出现错误，就是因为</span><span>协程已经结束了。<br/>
<span>二 记录请求处理的</span></span><span>协程:</span><span>&nbsp;<br/>
<span>&nbsp; &nbsp; 这里用来最简单的方法：用一个map来映射每一次for对应处理的</span></span><span>协程，如果我们在最后打印m这个MAP，则显示为：</span><span>&nbsp;<br/>
<span></span></span>
<div>&nbsp;</div>

<div style="background:#ffffff;padding:5px 5px 10px;color:#4d4d4c">
<div style="height:14px;color:#4d4d4c"><span style="color:#8959a8">map</span><span style="color:#4d4d4c">[</span><span style="color:#f5871f">2</span><span style="color:#4d4d4c">:</span><span style="color:#f5871f">0xc082028240</span>&nbsp;<span style="color:#f5871f">3</span><span style="color:#4d4d4c">:</span><span style="color:#f5871f">0xc0820282a0</span>&nbsp;<span style="color:#f5871f">4</span><span style="color:#4d4d4c">:</span><span style="color:#f5871f">0xc082028300</span>&nbsp;<span style="color:#f5871f">7</span><span style="color:#4d4d4c">:</span><span style="color:#f5871f">0xc082028420</span>&nbsp;<span style="color:#f5871f">9</span><span style="color:#4d4d4c">:</span><span style="color:#f5871f">0xc0820284e0</span>&nbsp;<span style="color:#f5871f">0</span><span style="color:#4d4d4c">:</span><span style="color:#f5871f">0xc082028180</span>&nbsp;<span style="color:#f5871f">1</span><span style="color:#4d4d4c">:</span><span style="color:#f5871f">0xc0820281e0</span>&nbsp;<span style="color:#f5871f">5</span><span style="color:#4d4d4c">:</span><span style="color:#f5871f">0xc082028360</span>&nbsp;<span style="color:#f5871f">6</span><span style="color:#4d4d4c">:</span><span style="color:#f5871f">0xc0820283c0</span>&nbsp;<span style="color:#f5871f">8</span><span style="color:#4d4d4c">:</span><span style="color:#f5871f">0xc082028480</span><span style="color:#4d4d4c">]</span></div>
</div>

<div>&nbsp;</div>
<span><span>&nbsp; &nbsp;&nbsp;可以明显看出，每一个信道的指向完全不一样。&nbsp;<br/>
<span><br/>
由上面的代码原理，可以理解GO作为web服务器，处理每一条请求的思路。<br/>
另外，GO的time包提供一个Ticker&nbsp;的结构体，会周期性的向它传递当前时间，可以利用该周期性，比如：<br/>
<span></span></span></span></span>
<div>&nbsp;</div>

<div style="background:#ffffff;padding:5px 5px 10px;color:#4d4d4c">
<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">time</span><span style="color:#4d4d4c">.</span><span style="color:#4d4d4c">NewTicker</span><span style="color:#4d4d4c">(</span><span style="color:#f5871f">1</span><span style="color:#3e999f">*</span><span style="color:#4d4d4c">time</span><span style="color:#4d4d4c">.</span><span style="color:#4d4d4c">Secend</span><span style="color:#4d4d4c">)</span></div>
</div>

<div>&nbsp;</div>
<span><span><span><span>就可以每隔一秒探查一次，然后使用</span></span></span></span>
<div>&nbsp;</div>

<div style="background:#ffffff;padding:5px 5px 10px;color:#4d4d4c">
<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">t:=time</span><span style="color:#4d4d4c">.</span><span style="color:#4d4d4c">AfterFunc</span><span style="color:#4d4d4c">(</span><span style="color:#f5871f">1</span><span style="color:#3e999f">*</span><span style="color:#4d4d4c">time</span><span style="color:#4d4d4c">.</span><span style="color:#4d4d4c">Secend</span><span style="color:#4d4d4c">,</span><span style="color:#4d4d4c">CallFunc</span><span style="color:#4d4d4c">)</span></div>
</div>

<div>&nbsp;</div>
<span><span><span><span>来跟踪协程的执行情况，直到返回执行结果，用<br/>
</span></span></span></span>
<div>&nbsp;</div>

<div style="background:#ffffff;padding:5px 5px 10px;color:#4d4d4c">
<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">time</span><span style="color:#4d4d4c">.</span><span style="color:#4d4d4c">Stop</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">t</span><span style="color:#4d4d4c">)</span></div>
</div>

<div>&nbsp;</div>
<span><span><span><span>&nbsp;来结束跟踪。<br/>
<span><br/>
这样，一个守护型的GO协程达到了设想的结果。&nbsp;</span></span></span></span></span></div>
</div>
</p>
            

<div id="thank-you" class="content-title">go语言里冒号的用法</div>
            <p>
            <div>
<div>&nbsp;<span>&nbsp;golang的冒号有一些特殊的用法，在某些地方能起到奇效</span></div>
<br/>
<span>一：最常见的变量初始化</span>
<div style="background:#ffffff;padding:5px 5px 10px;color:#4d4d4c">
<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">str</span><span style="color:#4d4d4c">:</span><span style="color:#3e999f">=</span><span style="color:#718c00">"abcde"</span></div>
</div>

<div>&nbsp;</div>
二：字符串分割<br/>

<div>&nbsp;</div>

<div style="background:#ffffff;padding:5px 5px 10px;color:#4d4d4c">
<div style="height:14px;color:#4d4d4c"><span style="color:#8959a8">package</span>&nbsp;<span style="color:#4d4d4c">main</span></div>

<div style="height:14px;color:#4d4d4c"></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#8959a8">import</span>&nbsp;<span style="color:#718c00">"fmt"</span></div>

<div style="height:14px;color:#4d4d4c"></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#8959a8">func</span>&nbsp;<span style="color:#4d4d4c">main</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">)</span>&nbsp;<span style="color:#4d4d4c">{</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">str</span>&nbsp;<span style="color:#4d4d4c">:</span><span style="color:#3e999f">=</span>&nbsp;<span style="color:#718c00">"abcde"</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#8959a8">for</span>&nbsp;<span style="color:#4d4d4c">i</span>&nbsp;<span style="color:#4d4d4c">:</span><span style="color:#3e999f">=</span>&nbsp;<span style="color:#f5871f">0</span><span style="color:#4d4d4c">;</span>&nbsp;<span style="color:#4d4d4c">i</span>&nbsp;<span style="color:#3e999f">&lt;=</span>&nbsp;<span style="color:#4d4d4c">len</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">str</span><span style="color:#4d4d4c">)</span><span style="color:#4d4d4c">;</span>&nbsp;<span style="color:#4d4d4c">i</span><span style="color:#3e999f">++</span>&nbsp;<span style="color:#4d4d4c">{</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">fmt</span><span style="color:#4d4d4c">.</span><span style="color:#4d4d4c">Println</span><span style="color:#4d4d4c">(</span><span style="color:#718c00">"left&nbsp;is:"</span><span style="color:#4d4d4c">,</span>&nbsp;<span style="color:#4d4d4c">str</span><span style="color:#4d4d4c">[</span><span style="color:#4d4d4c">i</span><span style="color:#4d4d4c">:</span><span style="color:#4d4d4c">])</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">fmt</span><span style="color:#4d4d4c">.</span><span style="color:#4d4d4c">Println</span><span style="color:#4d4d4c">(</span><span style="color:#718c00">"right&nbsp;is:"</span><span style="color:#4d4d4c">,</span>&nbsp;<span style="color:#4d4d4c">str</span><span style="color:#4d4d4c">[</span><span style="color:#4d4d4c">:</span><span style="color:#4d4d4c">i</span><span style="color:#4d4d4c">])</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">}</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">}</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#8e908c">//output:</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#4d4d4c">abcde</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;</div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#4d4d4c">bcde</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#4d4d4c">a</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#4d4d4c">cde</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#4d4d4c">ab</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#4d4d4c">de</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#4d4d4c">abc</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#4d4d4c">e</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#4d4d4c">abcd</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;</div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="color:#4d4d4c">abcde</span></div>
</div>

<div>&nbsp;</div>
可以对照输出，理解:在这里处到字符串里第i个指针前/后的所有字符串的效果。<br/>
很容易达成php的substr($str,0,$i)和substr($str,$i,count($str))的效果<br/>
当然这里只对单个字符为一字节的字符串起效果，如果是多字节字符串尼？比如中文：<br/>

<div>&nbsp;
<div>&nbsp;</div>

<div style="background:#ffffff;padding:5px 5px 10px;color:#4d4d4c">
<div style="height:14px;color:#4d4d4c"><span style="color:#8959a8">package</span>&nbsp;<span style="color:#4d4d4c">main</span></div>

<div style="height:14px;color:#4d4d4c"></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#8959a8">import</span>&nbsp;<span style="color:#718c00">"fmt"</span></div>

<div style="height:14px;color:#4d4d4c"></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#8959a8">func</span>&nbsp;<span style="color:#4d4d4c">main</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">)</span>&nbsp;<span style="color:#4d4d4c">{</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">str</span>&nbsp;<span style="color:#4d4d4c">:</span><span style="color:#3e999f">=</span>&nbsp;<span style="color:#4d4d4c">[</span><span style="color:#4d4d4c">]</span><span style="color:#4d4d4c">rune</span><span style="color:#4d4d4c">(</span><span style="color:#718c00">"<span style="width:13.21875px;color:#718c00">这</span><span style="width:13.21875px;color:#718c00">是</span><span style="width:13.21875px;color:#718c00">一</span><span style="width:13.21875px;color:#718c00">个</span><span style="width:13.21875px;color:#718c00">测</span><span style="width:13.21875px;color:#718c00">试</span><span style="width:13.21875px;color:#718c00">字</span><span style="width:13.21875px;color:#718c00">符</span><span style="width:13.21875px;color:#718c00">串</span>"</span><span style="color:#4d4d4c">)</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#8959a8">for</span>&nbsp;<span style="color:#4d4d4c">i</span>&nbsp;<span style="color:#4d4d4c">:</span><span style="color:#3e999f">=</span>&nbsp;<span style="color:#f5871f">0</span><span style="color:#4d4d4c">;</span>&nbsp;<span style="color:#4d4d4c">i</span>&nbsp;<span style="color:#3e999f">&lt;=</span>&nbsp;<span style="color:#4d4d4c">len</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">str</span><span style="color:#4d4d4c">)</span><span style="color:#4d4d4c">;</span>&nbsp;<span style="color:#4d4d4c">i</span><span style="color:#3e999f">++</span>&nbsp;<span style="color:#4d4d4c">{</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">fmt</span><span style="color:#4d4d4c">.</span><span style="color:#4d4d4c">Println</span><span style="color:#4d4d4c">(</span><span style="color:#718c00">"left&nbsp;is:"</span><span style="color:#4d4d4c">,</span>&nbsp;<span style="color:#4d4d4c">string</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">str</span><span style="color:#4d4d4c">[</span><span style="color:#4d4d4c">i</span><span style="color:#4d4d4c">:</span><span style="color:#4d4d4c">]))</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">fmt</span><span style="color:#4d4d4c">.</span><span style="color:#4d4d4c">Println</span><span style="color:#4d4d4c">(</span><span style="color:#718c00">"right&nbsp;is:"</span><span style="color:#4d4d4c">,</span>&nbsp;<span style="color:#4d4d4c">string</span><span style="color:#4d4d4c">(</span><span style="color:#4d4d4c">str</span><span style="color:#4d4d4c">[</span><span style="color:#4d4d4c">:</span><span style="color:#4d4d4c">i</span><span style="color:#4d4d4c">]))</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">}</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">}</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#8e908c">//output</span></div>

<div style="height:14px;color:#4d4d4c"><span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">这</span><span style="width:13.21875px;color:#4d4d4c">是</span><span style="width:13.21875px;color:#4d4d4c">一</span><span style="width:13.21875px;color:#4d4d4c">个</span><span style="width:13.21875px;color:#4d4d4c">测</span><span style="width:13.21875px;color:#4d4d4c">试</span><span style="width:13.21875px;color:#4d4d4c">字</span><span style="width:13.21875px;color:#4d4d4c">符</span><span style="width:13.21875px;color:#4d4d4c">串</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;</div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">是</span><span style="width:13.21875px;color:#4d4d4c">一</span><span style="width:13.21875px;color:#4d4d4c">个</span><span style="width:13.21875px;color:#4d4d4c">测</span><span style="width:13.21875px;color:#4d4d4c">试</span><span style="width:13.21875px;color:#4d4d4c">字</span><span style="width:13.21875px;color:#4d4d4c">符</span><span style="width:13.21875px;color:#4d4d4c">串</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">这</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">一</span><span style="width:13.21875px;color:#4d4d4c">个</span><span style="width:13.21875px;color:#4d4d4c">测</span><span style="width:13.21875px;color:#4d4d4c">试</span><span style="width:13.21875px;color:#4d4d4c">字</span><span style="width:13.21875px;color:#4d4d4c">符</span><span style="width:13.21875px;color:#4d4d4c">串</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">这</span><span style="width:13.21875px;color:#4d4d4c">是</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">个</span><span style="width:13.21875px;color:#4d4d4c">测</span><span style="width:13.21875px;color:#4d4d4c">试</span><span style="width:13.21875px;color:#4d4d4c">字</span><span style="width:13.21875px;color:#4d4d4c">符</span><span style="width:13.21875px;color:#4d4d4c">串</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">这</span><span style="width:13.21875px;color:#4d4d4c">是</span><span style="width:13.21875px;color:#4d4d4c">一</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">测</span><span style="width:13.21875px;color:#4d4d4c">试</span><span style="width:13.21875px;color:#4d4d4c">字</span><span style="width:13.21875px;color:#4d4d4c">符</span><span style="width:13.21875px;color:#4d4d4c">串</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">这</span><span style="width:13.21875px;color:#4d4d4c">是</span><span style="width:13.21875px;color:#4d4d4c">一</span><span style="width:13.21875px;color:#4d4d4c">个</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">试</span><span style="width:13.21875px;color:#4d4d4c">字</span><span style="width:13.21875px;color:#4d4d4c">符</span><span style="width:13.21875px;color:#4d4d4c">串</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">这</span><span style="width:13.21875px;color:#4d4d4c">是</span><span style="width:13.21875px;color:#4d4d4c">一</span><span style="width:13.21875px;color:#4d4d4c">个</span><span style="width:13.21875px;color:#4d4d4c">测</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">字</span><span style="width:13.21875px;color:#4d4d4c">符</span><span style="width:13.21875px;color:#4d4d4c">串</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">这</span><span style="width:13.21875px;color:#4d4d4c">是</span><span style="width:13.21875px;color:#4d4d4c">一</span><span style="width:13.21875px;color:#4d4d4c">个</span><span style="width:13.21875px;color:#4d4d4c">测</span><span style="width:13.21875px;color:#4d4d4c">试</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">符</span><span style="width:13.21875px;color:#4d4d4c">串</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">这</span><span style="width:13.21875px;color:#4d4d4c">是</span><span style="width:13.21875px;color:#4d4d4c">一</span><span style="width:13.21875px;color:#4d4d4c">个</span><span style="width:13.21875px;color:#4d4d4c">测</span><span style="width:13.21875px;color:#4d4d4c">试</span><span style="width:13.21875px;color:#4d4d4c">字</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">串</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">这</span><span style="width:13.21875px;color:#4d4d4c">是</span><span style="width:13.21875px;color:#4d4d4c">一</span><span style="width:13.21875px;color:#4d4d4c">个</span><span style="width:13.21875px;color:#4d4d4c">测</span><span style="width:13.21875px;color:#4d4d4c">试</span><span style="width:13.21875px;color:#4d4d4c">字</span><span style="width:13.21875px;color:#4d4d4c">符</span></div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">left</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;</div>

<div style="height:14px;color:#4d4d4c">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4d4d4c">right</span>&nbsp;<span style="color:#4d4d4c">is</span><span style="color:#4d4d4c">:</span>&nbsp;<span style="width:13.21875px;color:#4d4d4c">这</span><span style="width:13.21875px;color:#4d4d4c">是</span><span style="width:13.21875px;color:#4d4d4c">一</span><span style="width:13.21875px;color:#4d4d4c">个</span><span style="width:13.21875px;color:#4d4d4c">测</span><span style="width:13.21875px;color:#4d4d4c">试</span><span style="width:13.21875px;color:#4d4d4c">字</span><span style="width:13.21875px;color:#4d4d4c">符</span><span style="width:13.21875px;color:#4d4d4c">串</span></div>
</div>

<div>&nbsp;</div>
</div>

<div>&nbsp;</div>
使用rune类型就很容易得到需要的效果<br/>
<span>&nbsp;</span><br/>
</div>

            </p>

    </div>
</body>
</html>